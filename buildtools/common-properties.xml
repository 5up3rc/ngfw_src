<?xml version="1.0"?>

<!--
Copyright (c) 2004, 2005 Metavize Inc.
All rights reserved.

This software is the confidential and proprietary information of
Metavize Inc. ("Confidential Information").  You shall
not disclose such Confidential Information.

$Id: common-properties.xml,v 1.25 2005/03/23 04:52:36 amread Exp $
-->

<project name="common-properties" basedir=".">

  <property environment="env"/>
  <property file="${buildtool.base}/antbuildprops.txt"/>

  <!-- We use ant-contrib extension to get 'if' and 'foreach' -->
  <taskdef resource="net/sf/antcontrib/antcontrib.properties">
    <classpath>
      <pathelement location="${ANTCONTRIB_HOME}/lib/ant-contrib-0.6.jar"/>
    </classpath>
  </taskdef>

  <!-- Most configureable locations come from antbuildprops.txt -->
  <property name="JAXBHOME" value="${JWSDP_HOME}/jaxb"/>
  <property name="JAXPHOME" value="${JWSDP_HOME}/jaxp"/>

  <!-- standard src places -->
  <property name="src.main" value="main"/>
  <property name="src.hier" value="hier"/>
  <property name="src.resources" value="resources"/>
  <property name="src.thirdparty" value="thirdparty"/>

  <!-- standard build places -->
  <property name="build.root" value="${basedir}/output"/>
  <property name="build.classes" value="${build.root}/classes"/>
  <property name="build.depcache" value="${build.root}/depcache"/>
  <property name="build.docs" value="${build.root}/doc"/>
  <property name="build.docs.api" value="${build.docs}/api"/>
  <property name="build.gensrc" value="${build.root}/gensrc"/>
  <property name="build.jar" value="${build.root}/jar"/>
  <property name="build.tmp" value="${build.root}/tmp"/>

  <if>
    <not>
      <isset property="build.dist"/>
    </not>
    <then>
      <property name="build.dist" value="${build.root}/dist"/>
    </then>
  </if>
  <echo message="building to: ${build.dist}"/>

  <if>
    <not>
      <isset property="build.prefix"/>
    </not>
    <then>
      <property name="build.prefix" value="${build.dist}"/>
    </then>
  </if>
  <echo message="prefix   is: ${build.prefix}"/>


  <!-- standard dist suffixs -->
  <property name="suffix.bin" value="usr/bin"/>
  <property name="suffix.etc" value="etc"/>
  <property name="suffix.var" value="var"/>
  <property name="suffix.var.tmp" value="var/tmp"/>
  <property name="suffix.var.run" value="var/run"/>
  <property name="suffix.log" value="var/log/mvvm"/>
  <property name="suffix.data" value="var/lib"/>

  <property name="suffix.thirdparty.lib" value="usr/share/java/mvvm"/>
  <property name="suffix.endorsed.lib" value="usr/share/java/endorsed"/>

  <property name="suffix.mvvm.home" value="usr/share/metavize"/>
  <property name="suffix.mvvm.conf" value="${suffix.mvvm.home}/conf"/>
  <property name="suffix.mvvm.data" value="${suffix.mvvm.home}/data"/>
  <property name="suffix.mvvm.dump" value="${suffix.mvvm.home}/dump"/>
  <property name="suffix.mvvm.lib" value="${suffix.mvvm.home}/lib"/>
  <property name="suffix.mvvm.log" value="${suffix.mvvm.home}/log"/>
  <property name="suffix.mvvm.tmp" value="${suffix.mvvm.home}/tmp"/>
  <property name="suffix.mvvm.toolbox" value="${suffix.mvvm.home}/toolbox"/>
  <property name="suffix.mvvm.schema" value="${suffix.mvvm.home}/schema"/>
  <property name="suffix.mvvm.web" value="${suffix.mvvm.home}/web"/>
  <property name="suffix.mvvm.webstart" value="${suffix.mvvm.web}/webstart"/>
  <property name="suffix.mvvm.reports" value="${suffix.mvvm.web}/reports"/>

  <property name="suffix.pkg-list" value="tmp/pkg-list"/>
  <property name="suffix.inst-list" value="tmp/inst-list"/>
  <property name="suffix.libalpine" value="usr/lib/mvvm"/>

  <!-- standard dist places -->
  <property name="dist.bin" value="${build.dist}/${suffix.bin}"/>
  <property name="dist.etc" value="${build.dist}/${suffix.etc}"/>
  <property name="dist.log" value="${build.dist}/${suffix.log}"/>
  <property name="dist.data" value="${build.dist}/${suffix.data}"/>
  <property name="dist.var" value="${build.dist}/${suffix.var}"/>
  <property name="dist.var.tmp" value="${build.dist}/${suffix.var.tmp}"/>
  <property name="dist.var.run" value="${build.dist}/${suffix.var.run}"/>

  <property name="dist.thirdparty.lib" value="${build.dist}/${suffix.thirdparty.lib}"/>
  <property name="dist.endorsed.lib" value="${build.dist}/${suffix.endorsed.lib}"/>

  <property name="dist.mvvm.home" value="${build.dist}/${suffix.mvvm.home}"/>
  <property name="dist.mvvm.conf" value="${build.dist}/${suffix.mvvm.conf}"/>
  <property name="dist.mvvm.data" value="${build.dist}/${suffix.mvvm.data}"/>
  <property name="dist.mvvm.dump" value="${build.dist}/${suffix.mvvm.dump}"/>
  <property name="dist.mvvm.lib" value="${build.dist}/${suffix.mvvm.lib}"/>
  <property name="dist.mvvm.log" value="${build.dist}/${suffix.mvvm.log}"/>
  <property name="dist.mvvm.tmp" value="${build.dist}/${suffix.mvvm.tmp}"/>
  <property name="dist.mvvm.toolbox" value="${build.dist}/${suffix.mvvm.toolbox}"/>
  <property name="dist.mvvm.schema" value="${build.dist}/${suffix.mvvm.schema}"/>
  <property name="dist.mvvm.web" value="${build.dist}/${suffix.mvvm.web}"/>
  <property name="dist.mvvm.webstart" value="${build.dist}/${suffix.mvvm.webstart}"/>
  <property name="dist.mvvm.reports" value="${build.dist}/${suffix.mvvm.reports}"/>
  <property name="dist.libalpine" value="${build.dist}/${suffix.libalpine}"/>

  <!-- filters -->
  <filter token="DEFAULT_JAVA_HOME" value="/opt/java"/>
  <filter token="PREFIX" value="${build.prefix}"/>
  <filter token="USR_BIN" value="${build.prefix}/${suffix.bin}"/>
  <filter token="MVVM_DATA" value="${build.prefix}/${suffix.mvvm.data}"/>
  <filter token="MVVM_DUMP" value="${build.prefix}/${suffix.mvvm.dump}"/>
  <filter token="MVVM_HOME" value="${build.prefix}/${suffix.mvvm.home}"/>
  <filter token="MVVM_CONF" value="${build.prefix}/${suffix.mvvm.conf}"/>
  <filter token="MVVM_LIB" value="${build.prefix}/${suffix.mvvm.lib}"/>
  <filter token="MVVM_LOG" value="${build.prefix}/${suffix.mvvm.log}"/>
  <filter token="MVVM_TOOLBOX" value="${build.prefix}/${suffix.mvvm.toolbox}"/>
  <filter token="MVVM_SCHEMA" value="${build.prefix}/${suffix.mvvm.schema}"/>
  <filter token="MVVM_WEB" value="${build.prefix}/${suffix.mvvm.web}"/>
  <filter token="MVVM_WEBSTART" value="${build.prefix}/${suffix.mvvm.webstart}"/>
  <filter token="MVVM_REPORTS" value="${build.prefix}/${suffix.mvvm.reports}"/>
  <filter token="THIRDPARTY_LIB" value="${build.prefix}/${suffix.thirdparty.lib}"/>
  <filter token="ENDORSED_LIB" value="${build.prefix}/${suffix.endorsed.lib}"/>

  <filter token="FAKE_PKG_LIST" value="${build.prefix}/${suffix.pkg-list}" />
  <filter token="FAKE_INST_LIST" value="${build.prefix}/${suffix.inst-list}" />
  <filter token="ALPINE_LIB" value="${build.prefix}/${suffix.libalpine}"/>

</project>
