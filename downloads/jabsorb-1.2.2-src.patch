diff -urN jabsorb-1.2.2.orig/build.xml jabsorb-1.2.2/build.xml
--- jabsorb-1.2.2.orig/build.xml	2012-06-13 16:45:31.000000000 -0700
+++ jabsorb-1.2.2/build.xml	2012-06-13 16:45:40.000000000 -0700
@@ -53,13 +53,14 @@
   </target>
 
   <target name="compile" depends="init,init-build" description="Compiles the source into the build directory">
-    <javac debug="true" source="1.4" srcdir="${src}" destdir="${build}">
+    <javac debug="true" source="1.5" srcdir="${src}" destdir="${build}">
       <classpath refid="default-classpath" />
     </javac>
   </target>
 
   <target name="dist" depends="compile,compress-web-content,init-build" description="Puts the compiled source into a jar">
-    <jar destfile="${app-jar}" basedir="${build}" excludes="*~" />
+    <jar destfile="${app-jar}" basedir="${build}" excludes="*~" includes="org/jabsorb/**/*.class"/>
+    <jar destfile="json.jar" basedir="${build}" excludes="*~" includes="org/json/**/*.class"/>
   </target>
 
   <target name="test.init" depends="init" description="Makes directories needed for the test jsps">
@@ -69,7 +70,7 @@
   </target>
 
   <target name="compile.test" depends="test.init, dist, init" description="Compiles the testing classes">
-    <javac debug="true" source="1.4" srcdir="${test.src}" destdir="${test.classes}">
+    <javac debug="true" source="1.5" srcdir="${test.src}" destdir="${test.classes}">
       <classpath>
       	<path refid="jarClasspath" />
         <fileset dir="${lib-test}">
@@ -146,6 +147,7 @@
   <target name="clean" depends="init" description="Cleans all files produced by ant">
     <delete file="${app-war}" />
     <delete file="${app-jar}" />
+    <delete file="json.jar"/>
     <delete file="${webapp}/WEB-INF/web.xml.out" />
     <delete file="${webapp}/WEB-INF/web.xml.generated" />
     <delete file="${webapp}/Test.java.txt" />
diff -urN jabsorb-1.2.2.orig/src/org/jabsorb/JSONRPCBridge.java jabsorb-1.2.2/src/org/jabsorb/JSONRPCBridge.java
--- jabsorb-1.2.2.orig/src/org/jabsorb/JSONRPCBridge.java	2012-06-13 16:45:31.000000000 -0700
+++ jabsorb-1.2.2/src/org/jabsorb/JSONRPCBridge.java	2012-06-13 16:46:12.000000000 -0700
@@ -677,6 +673,8 @@
         }
       }
       log.error("exception occured",e);
+      if (e.getCause() != null)
+          log.error("exception cause",e.getCause());
       result = new JSONRPCResult(JSONRPCResult.CODE_ERR_UNMARSHALL, requestId,
           e.getMessage());
     }
@@ -690,6 +688,8 @@
         }
       }
       log.error("exception occured",e);
+      if (e.getCause() != null)
+          log.error("exception cause",e.getCause());
       result = new JSONRPCResult(JSONRPCResult.CODE_ERR_MARSHALL, requestId, e
           .getMessage());
     }
@@ -707,6 +707,8 @@
         }
       }
       log.error("exception occured",e);
+      if (e.getCause() != null)
+          log.error("exception cause",e.getCause());
       result = new JSONRPCResult(JSONRPCResult.CODE_REMOTE_EXCEPTION,
           requestId, exceptionTransformer.transform(e));
     }
diff -urN jabsorb-1.2.2.orig/src/org/jabsorb/JSONSerializer.java jabsorb-1.2.2/src/org/jabsorb/JSONSerializer.java
--- jabsorb-1.2.2.orig/src/org/jabsorb/JSONSerializer.java	2012-06-13 16:45:31.000000000 -0700
+++ jabsorb-1.2.2/src/org/jabsorb/JSONSerializer.java	2012-06-13 16:45:40.000000000 -0700
@@ -718,7 +718,7 @@
       try
       {
         className = ((JSONObject) o).getString("javaClass");
-        return Class.forName(className);
+        return Class.forName(className,true,Thread.currentThread().getContextClassLoader());
       }
       catch (Exception e)
       {
@@ -746,9 +746,9 @@
       {
         if (compClazz.isArray())
         {
-          return Class.forName("[" + compClazz.getName());
+            return Class.forName("[" + compClazz.getName(),true,Thread.currentThread().getContextClassLoader());
         }
-        return Class.forName("[L" + compClazz.getName() + ";");
+        return Class.forName("[L" + compClazz.getName() + ";",true,Thread.currentThread().getContextClassLoader());
       }
       catch (ClassNotFoundException e)
       {
diff -urN jabsorb-1.2.2.orig/src/org/jabsorb/serializer/impl/BooleanSerializer.java jabsorb-1.2.2/src/org/jabsorb/serializer/impl/BooleanSerializer.java
--- jabsorb-1.2.2.orig/src/org/jabsorb/serializer/impl/BooleanSerializer.java	2012-06-13 16:45:31.000000000 -0700
+++ jabsorb-1.2.2/src/org/jabsorb/serializer/impl/BooleanSerializer.java	2012-06-13 16:45:40.000000000 -0700
@@ -97,6 +97,11 @@
     {
       returnValue = (Boolean) jso;
     }
+    else if (clazz == Boolean.class)
+    {
+      returnValue = (Boolean)jso;
+    }
+
 
     state.setSerialized(jso, returnValue);
     return returnValue;
diff -urN jabsorb-1.2.2.orig/src/org/jabsorb/serializer/ObjectMatch.java jabsorb-1.2.2/src/org/jabsorb/serializer/ObjectMatch.java
--- jabsorb-1.2.2.orig/src/org/jabsorb/serializer/ObjectMatch.java	2012-06-13 16:45:31.000000000 -0700
+++ jabsorb-1.2.2/src/org/jabsorb/serializer/ObjectMatch.java	2012-06-13 16:45:40.000000000 -0700
@@ -102,6 +102,10 @@
    */
   public ObjectMatch max(ObjectMatch m)
   {
+      if (m == null)
+          {
+              return this;
+          }
     if (this.mismatch > m.mismatch)
     {
       return this;
