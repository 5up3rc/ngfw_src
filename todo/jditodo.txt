postrm stop doesn't seem to work

Fix up email addr schema

3 interface isues
-----------------
Add to pipeline endpoints:
    policy_id int8
    inbound   bool

check all uses of Direction class (most should use policy direction instead)
    otugoing -> outbound

not done yet:
    pipeline endpoints
    argon.weld passes isInbound to newSession
    http subscriptions not using interface, but instead session.isInbound() 

  UI: mapping from interface number to name (0 = external, 1 = internal, 2 = dmz, 3 = "vpn foo", 4 = "all vpn", etc)

    create top level mvvm settings tabe to hang singletons off of

policy manager needs changePolicy()

upgrade warnings in creation of initial hibernate objects (admin manager, etc), and in saving settings

--

make sure all serializable classes have:
    serial #
    hashcode
    equals

postgres analyze hourly


@report_max_count@ instead of 15 in report templates

-------------------------------------------------------------------------------

Mime/extension
--------------
In fortinet but not us:
doc
hta
ppt
tgz
vb?
wps
xl?


For 2.5.2
----------
Phishing
  -- put emails into svn/public place
  -- get order wrt spamassassin fixed somehow
  -- don't have phish score name in events (like virus name)

don't put .jrxml into transform jar files

Could use straight from Spam transform:
  SpamMessageAction, SMTPSpamMessageAction

Could be separated into base + spam/phish specific:
  SmtpSessionHandler
  SpamProtoConfig
  SpamIMAPConfig
  SpamImapFactory
  SpamImapHandler
  SpamLog

Belongs with spam only:
  ReportItem
  SpamImpl





What should be semantics when a shutdown arrives for a disabled queue.


---

check closed/closed state (for released before new session time)

make sure old reports (like index.html) don't bust anything

what else is in db dir?

try system when nameserver is slow (when are we doing reverse lookups? known: spam)

Need to use dist-upgrade instead of upgrade?

Use new atomic stuff instead of volatile or synchronized where appropriate

reports
    -- use dhcp names when available

----------

  -- find pdf output option
  -- requirement issues:
    -- customizability -- allow co-branding with VAR?
    -- allow for 'standard' footer on each emailed report (mv branding/ad)?
    -- is dhcp name source a requirement for 1.4?
  -- reports should be archived, not thrown away for 30 days
  -- limit max size of reports (to like 20 pages?)
  -- issue: right now we always generate reports, even if no reporting transform purchased/loaded/started.
    -- could separate reporting from rollup, only run the rollup if no transform, or could leave as is.
  -- issue: allow for running not at 6:25, but at some other user-specified time
  -- reports to add
    -- which IP sending spam? (in each direction?)
    -- which email recip is receiving the most spam
    -- log parse errors (http incident report)
    -- dhcp/dns reports
    -- add sessions per host
    -- too long reports -- custom
  -- report performance must be analayzed, indices added where appropriate
    -- if we add UI log viewing, we'll need some permanent indices.




email
-----
  -- add per-protocol controls for in/out
  -- figure out if our hand-written base64 encoding/decoding is sufficient


RFEs from one meeting
---------------------
  -- remote management from specific outside place
  -- check out Postini anti-spam

gui
---
  -- check out: do we need to be admin user on windows?  (if so must inform in quick start guide)

1.4
---
turn off debug, on optimize when compiling

1.3
---

check 1.2

restart all transforms

  fix serial uids

--    

Need to add check code for tcp & udp send packet so that if you try to send data to a closed
sink, it doesn't just build up but rather gives an error. done?

rename closeWhenDone to avoid cho confusion

fix up uses of proto_tcp now that we have constants.

---

returning readbuf isn't right wrt read limit

killSession() (TCP and UDP) broken when exception occurs in handler (eg: blocker null pointer)

script list for dirk
    init.d/bunnicula stale pid problem

    sudo for running bunnicula in devel mode

    flushing of iptables rules from xenon wrapper to bunnicula wrapper

    adding of settability of:
        TCP windowing
        what other parameters?

remove console.log

remove Transform.preStart

fix argon to use singletons

test killExistingSessions() shutdown

test to make sure session state is updated at appropriate time (for closing/shutdown)
